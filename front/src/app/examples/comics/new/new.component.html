<div class="row">
    <div class="col-xs-12 col-sm-10 col-md-8 col-sm-offset-1 col-md-offset 2">
        <h2>Añadir nuevo Comic</h2>

        <form (ngSubmit)="onSubmit()" [formGroup]="myForm">
            <div class="form-group">
                <label for="isbn">Isbn</label>
                <input type="text" class="form-control" id="isbn" placeholder="Isbn" formControlName="isbn">
                <div *ngIf="!myForm.controls['isbn'].valid && myForm.controls['isbn'].touched" class="error message">Isbn no valido</div>
                <!-- <div *ngIf="myForm.controls['isbn'].hasError('required')">Este campo es requerido</div> -->

            </div>
            <div class="form-group">
                <label for="title">Titulo</label>
                <input type="text" class="form-control" id="title" placeholder="Titulo" formControlName="title">
            </div>
            <div class="form-group">
                <label for="author">Autor</label>
                <input type="text" class="form-control" id="author" placeholder="Autor" formControlName="author">
            </div>
            <div class="form-group">
                <label for="synopsis">Sinopsis</label>
                <input type="text" class="form-control" id="synopsis" placeholder="Sinopsis" formControlName="synopsis">
            </div>
            <div class="form-group">
                <label for="genre">Genero</label>
                <select class="form-control" id="genres" placeholder="Genero" >
                    <option *ngFor="let aGenre of genres" (click)="addGenre(aGenre)">{{aGenre.name}}
                    </option>
                </select>
            </div>
            <div class="form-group">
                <label for="ishardcover">Tapa</label>
                <select class="form-control" id="ishardcover" placeholder="Tapa dura?" formControlName="ishardcover">
                    <option *ngFor="let aCover of covers" [value]="aCover == 'Tapa Dura' ? true : false">{{aCover}}
                    </option>
                </select>
            </div>

            <div class="form-group">
                <label for="price">Precio</label>
                <input type="number" class="form-control" id="price" placeholder="Precio" formControlName="price">
            </div>

            <div class="form-group">
                <label for="stock">Stock</label>
                <input type="number" class="form-control" id="stock" placeholder="Stock" formControlName="stock">
            </div>
            <div class="form-group">
                <label for="photo">Foto</label>
                <input type="text" class="form-control" id="photo" placeholder="Foto" formControlName="photo">
            </div>
            <label class="image-upload-container btn btn-bwm">
                <span>Selecciona una imagen </span>
                <input #imageInput
                       type="file"
                       accept="image/*"
                       (change)="selectFile($event)">
              </label>
              <div>
                <img [src]="preview" class="preview">
              </div>
              <div *ngIf="currentFile && progress" class="progress my-3">
                <div
                  class="progress-bar progress-bar-info"
                  role="progressbar"
                  attr.aria-valuenow="{{ progress }}"
                  aria-valuemin="0"
                  aria-valuemax="100"
                  [ngStyle]="{ width: progress + '%' }"
                >
                  {{ progress }}%
                </div>
              </div>
              <div *ngIf="message" class="alert alert-secondary" role="alert">
                {{ message }}
              </div>
              <div class="card mt-3">
                <div class="card-header">List of Images</div>
                <ul class="list-group list-group-flush">
                  <li *ngFor="let image of imageInfos | async" class="list-group-item">
                    <p><a href="{{ image.url }}">{{ image.name }}</a></p>
                    <img src="{{ image.url }}" alt="{{ image.name }}" height="80px" />
                  </li>
                </ul>
              </div>


            <button type="submit" class="btn btn-success">Añadir Comic</button>
        </form>
        <hr>
        <pre></pre>
    </div>
</div>